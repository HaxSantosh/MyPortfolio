import{R as e,r as t}from"./react-vendor-DHnLSSe8.js";import{u as r}from"./redux-yPw69zW_.js";import{s}from"./index-Dxbvrj5J.js";import{j as n}from"./framer-motion-CBYlNctZ.js";const a=e.memo((({text:a,speed:o=50,startDelay:u=0,showCursor:i=!0,className:c="",glitch:m=!1})=>{const[l,f]=t.useState(""),[h,d]=t.useState(!0),[p,x]=t.useState(!1),[T,j]=t.useState(!1),g=r(s),M=t.useRef(a),y=t.useRef(0),R=t.useRef(null),F=t.useRef(null),S=g?"#00FF00":"#0066FF";t.useEffect((()=>{M.current!==a&&(M.current=a,y.current=0,f(""));const e=setTimeout((()=>{(()=>{x(!0);const e=()=>{if(y.current<a.length){f((e=>e+a[y.current])),y.current++;const t=o*(.8+.4*Math.random());R.current=setTimeout(e,t),m&&Math.random()<.15&&b()}else x(!1)};R.current=setTimeout(e,o)})()}),u);return()=>{clearTimeout(e),clearTimeout(R.current),clearTimeout(F.current)}}),[a,o,u,m]),t.useEffect((()=>{if(!i)return;const e=setInterval((()=>{d((e=>!e))}),530);return()=>clearInterval(e)}),[i]);const b=()=>{if(T)return;j(!0);const e=150*Math.random()+50;F.current=setTimeout((()=>{j(!1),Math.random()<.3&&setTimeout((()=>{j(!0),setTimeout((()=>j(!1)),50)}),50)}),e)},k=e.useMemo((()=>{if(!T)return"";const e=["animate-glitch-x","animate-glitch-y","animate-intense-flicker"];return e[Math.floor(Math.random()*e.length)]}),[T]);return n.jsxs("span",{className:`typewriter-text inline-block ${c} ${T?k:""}`,children:[n.jsx("span",{children:l}),i&&n.jsx("span",{className:"text-cursor "+(h?"opacity-100":"opacity-0"),style:{borderRight:`2px solid ${S}`,marginLeft:"1px",animation:"cursor-blink 1s infinite"},children:"Â "})]})}));export{a as default};
